<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Mangameeya - AVS - Blur篇</title>
    <url>/post/f5fe9c1.html</url>
    <content><![CDATA[<h3 id="blur（模糊）滤镜："><a href="#blur（模糊）滤镜：" class="headerlink" title="blur（模糊）滤镜："></a>blur（模糊）滤镜：</h3><p>这个类别在漫画阅读场景中的应用非常多，尤其很多汉化组资源后期处理都存在过度锐化的问题。</p>
<span id="more"></span>

<h3 id="Variableblur-0-7版本下载"><a href="#Variableblur-0-7版本下载" class="headerlink" title="Variableblur 0.7版本下载"></a>Variableblur <a href="https://web.archive.org/web/20140420184040if_/http://bengal.missouri.edu/~kes25c/variableblur.zip">0.7版本下载</a></h3><p>这个多合一模糊滤镜最亮眼的是加入了质量较高的GaussianBlur（高斯模糊），加载前提：<br>下载32bit <a href="http://www.fftw.org/install/windows.html">FFTW 3.3.5</a> 解压后将 <code>libfftw3f-3.dll</code>放入：<br>64位系统：C:\windows\SysWOW64<br>32位系统：C:\windows\system32</p>
<h4 id="内置的三种模糊加载："><a href="#内置的三种模糊加载：" class="headerlink" title="内置的三种模糊加载："></a>内置的三种模糊加载：</h4><h5 id="AverageBlur-（仅支持YV12）："><a href="#AverageBlur-（仅支持YV12）：" class="headerlink" title="AverageBlur （仅支持YV12）："></a><em>AverageBlur</em> （仅支持YV12）：</h5><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">转换为<span class="constructor">YV12(<span class="params">false</span>)</span>.<span class="constructor">AverageBlur(1,1)</span></span><br></pre></td></tr></table></figure>

<p>radY,radC建议先统一设置为<code>1</code>，模糊程度不够再往上加，仅支持整数。</p>
<h5 id="BinomialBlur-（仅支持YV12）："><a href="#BinomialBlur-（仅支持YV12）：" class="headerlink" title="BinomialBlur （仅支持YV12）："></a><em>BinomialBlur</em> （仅支持YV12）：</h5><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">转换为<span class="constructor">YV12(<span class="params">false</span>)</span>.<span class="constructor">BinomialBlur(0.5,0.5)</span></span><br></pre></td></tr></table></figure>

<p>varY,varC支持<code>0.5,1,1.5</code>…这样的<code>0.5</code>的倍数数值设置，建议<code>0.5</code>,模糊程度不够再逐步累加</p>
<h5 id="GaussianBlur-（支持RGB24-RGB32-YUY2-YV12）："><a href="#GaussianBlur-（支持RGB24-RGB32-YUY2-YV12）：" class="headerlink" title="GaussianBlur （支持RGB24, RGB32, YUY2, YV12）："></a><em>GaussianBlur</em> （支持RGB24, RGB32, YUY2, YV12）：</h5><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">GaussianBlur</span>(<span class="number">0</span>.<span class="number">3</span>,<span class="number">0</span>.<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>varY,varC建议<code>0.3</code>起步，可<code>0.1</code>幅度提高数值，建议以<code>0.2</code>的幅度更改，<del>修改时建议关闭实时AVS预览</del>。</p>
<h4 id="1-2-个人经验与建议："><a href="#1-2-个人经验与建议：" class="headerlink" title="1.2 个人经验与建议："></a>1.2 个人经验与建议：</h4><p>1.GaussianBlur效果好但非常慢，再加上mangameeya所支持的AVS不支持多线程，一张2400像素宽的彩图GaussianBlur单滤镜要接近6s的时间做处理，建议可以慢慢看的漫画使用，需要快速切图的使用AverageBlur或者BinomialBlur。</p>
<p>2.Blur（模糊）滤镜一般可以作为Sharpeners（锐化）滤镜（如内置的USM锐化）或者收线滤镜（内置的WarpSharp滤镜）的限制器使用，也就是前置处理导致画面锐化过度锯齿感严重可以适当模糊来综合处理提高观感。</p>
]]></content>
  </entry>
  <entry>
    <title>Total Commander 自用重命名规则记录</title>
    <url>/post/aa610a08.html</url>
    <content><![CDATA[<h3 id="1-将复数子文件夹中文件提取到上级文件夹"><a href="#1-将复数子文件夹中文件提取到上级文件夹" class="headerlink" title="1.将复数子文件夹中文件提取到上级文件夹"></a>1.将复数子文件夹中文件提取到上级文件夹</h3><span id="more"></span>

<h5 id="应对场景："><a href="#应对场景：" class="headerlink" title="应对场景："></a>应对场景：</h5><blockquote>
<p>001,002,003……子文件夹中001_01,001_02……002_01……文件批量提取到上级文件夹。</p>
</blockquote>
<p>TC上索引到最外一级文件夹，ctrl+b显示所有文件，shift+鼠标左键全选需要移动的文件，Ctrl+M唤出重命名工具，“文件名”处写上下列规则即可。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">..\[N]</span><br></pre></td></tr></table></figure>



<h3 id="2-批量将文件夹名称写入文件夹中文件开头"><a href="#2-批量将文件夹名称写入文件夹中文件开头" class="headerlink" title="2.批量将文件夹名称写入文件夹中文件开头"></a>2.批量将文件夹名称写入文件夹中文件开头</h3><h5 id="应对场景：-1"><a href="#应对场景：-1" class="headerlink" title="应对场景："></a>应对场景：</h5><blockquote>
<p>001,002,003……的子文件夹中01,02,03……开头加上001_ ,002_ ,003_ …….。</p>
</blockquote>
<p>TC上索引到最外一级文件夹，ctrl+b显示所有文件，shift+鼠标左键全选需要移动的文件，Ctrl+M唤出重命名工具，“文件名”处写上下列规则即可。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-attr">[P]</span>_<span class="selector-attr">[N]</span></span><br></pre></td></tr></table></figure>



<h3 id="3-已经提取到上级文件夹的文件重新批量放回原文件夹"><a href="#3-已经提取到上级文件夹的文件重新批量放回原文件夹" class="headerlink" title="3.已经提取到上级文件夹的文件重新批量放回原文件夹"></a>3.已经提取到上级文件夹的文件重新批量放回原文件夹</h3><h5 id="应对场景：-2"><a href="#应对场景：-2" class="headerlink" title="应对场景："></a>应对场景：</h5><blockquote>
<p>已经提取出来的001_01,001_02……002_01……的文件批量重新放回001,002,003……的子文件夹中。</p>
</blockquote>
<p>TC上索引到最外一级文件夹，ctrl+b显示所有文件，shift+鼠标左键全选需要移动的文件，Ctrl+M唤出重命名工具，“文件名”处写上下列规则即可。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[N1-3]\[N]</span><br></pre></td></tr></table></figure>



]]></content>
  </entry>
  <entry>
    <title>WinRAR编译去广告+注册</title>
    <url>/post/422f329d.html</url>
    <content><![CDATA[<p>自改流程记录。</p>
<span id="more"></span>

<p>1.<a href="http://www.angusj.com/resourcehacker/#download">下载portable版resource hacker</a></p>
<p>2.将[安装路径下WinRAR.exe](C:\Program Files\WinRAR\WinRAR.exe)拖入resource hacker,找到String Table下的80:2052,将窗口中最长的一行删除就完成了去广告</p>
<p>3.先点编译再保存为新的Winrar.exe即可</p>
<p>4.rarreg.key备份</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">RAR</span> registration data</span><br><span class="line"></span><br><span class="line"><span class="attribute">wncn</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">Unlimited</span> Company License</span><br><span class="line"></span><br><span class="line"><span class="attribute">UID</span>=<span class="number">1</span>b<span class="number">064</span>ef<span class="number">8</span>b<span class="number">57</span>de<span class="number">3</span>ae<span class="number">9</span>b<span class="number">52</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">64122122509b52e35fd885373b214a4a64cc2fc1284b77ed14fa20</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">66ebfca6509f9813b32960fce6cb5ffde62890079861be57638717</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">7131ced835ed65cc743d9777f2ea71a8e32c7e593cf66794343565</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">b41bcf56929486b8bcdac33d50ecf7739960627351a9ef03353a0e</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">592b327cd80645472f0ee622d1915028a9e05298e593db36384f0f</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">f46afd5fed9b0bd095d1788266b81494b976f78fb1c551ca60a054</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">b17ad853ab902058b42c6887e1b3d40e0b45abf37de02106056887</span></span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/post/4a17b156.html</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! </p>
<span id="more"></span>

<p>This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>Windows Terminal + PowerShell 7.2 配置总结</title>
    <url>/post/954d2ae6.html</url>
    <content><![CDATA[<h2 id="1-安装-Windows-Terminal"><a href="#1-安装-Windows-Terminal" class="headerlink" title="1. 安装 Windows Terminal"></a>1. 安装 Windows Terminal</h2><p><a href="https://github.com/microsoft/terminal">单击此处从github下载。</a></p>
<span id="more"></span>

<h2 id="2-安装新款-Powershell-Core"><a href="#2-安装新款-Powershell-Core" class="headerlink" title="2. 安装新款 Powershell Core"></a>2. 安装新款 Powershell Core</h2><p><a href="https://github.com/PowerShell/PowerShell">单击此处从 GitHub 下载。</a></p>
<h2 id="3-安装字体"><a href="#3-安装字体" class="headerlink" title="3. 安装字体"></a>3. 安装字体</h2><p>推荐字体：<strong>Fira Code</strong>。支持 ligature 连字功能，是一款专门为代码显示准备的字体。字体开源，广受海内外程序员好评！</p>
<p><a href="https://github.com/tonsky/FiraCode">单击此处从 GitHub 下载。</a></p>
<h2 id="4-安装-Powershell-插件"><a href="#4-安装-Powershell-插件" class="headerlink" title="4. 安装 Powershell 插件"></a>4. 安装 Powershell 插件</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. 安装 PSReadline 包，该插件可以让命令行很好用，类似 zsh</span></span><br><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> PSReadLine <span class="literal">-AllowPrerelease</span> <span class="literal">-Force</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 安装 posh-git 包，让你的 git 更好用</span></span><br><span class="line"><span class="built_in">Install-Module</span> posh<span class="literal">-git</span> <span class="literal">-Scope</span> CurrentUser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 安装 oh-my-posh 包，让你的命令行更酷炫、优雅</span></span><br><span class="line"><span class="built_in">Install-Module</span> <span class="built_in">oh</span><span class="literal">-my</span><span class="literal">-posh</span> <span class="literal">-Scope</span> CurrentUser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 安装 scoop 包管理器</span></span><br><span class="line"><span class="built_in">iex</span> (<span class="built_in">new-object</span> net.webclient).downloadstring(<span class="string">&#x27;https://get.scoop.sh&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. 安装 sudo</span></span><br><span class="line">scoop install sudo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. 使用 sudo 来提升权限,安装 git 并添加系统变量</span></span><br><span class="line">sudo scoop install <span class="literal">-g</span> git</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>2. 3. 来源可能不受系统信任</strong>，直接输入 <code>Y</code> 即可。</p>
<h2 id="5-配置"><a href="#5-配置" class="headerlink" title="5. 配置"></a>5. 配置</h2><p>Windows Terminal的设置并没有图形界面，是通过修改配置文件的字段来实现具体的设置的。</p>
<p>设置方法很简单，先打开 Windows Terminal，找到状态栏 <code>+</code> 旁边的向下箭头，点击选择设置选项。<br><img src="https://img-blog.csdnimg.cn/20200828112014462.PNG#pic_center" alt="默认会显示的一段话"></p>
<p>随后会自动打开 <code>settings.json</code> 的配置文件。下拉配置文件，可以找到如下做对应修改：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 默认的配置就是新 powershell</span></span><br><span class="line"><span class="string">&quot;defaultProfile&quot;</span>: <span class="string">&quot;&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;&quot;</span>,</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Powershell 7.1.0-preview.2 配置</span></span><br><span class="line">    <span class="attr">&quot;guid&quot;</span>: <span class="string">&quot;&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hidden&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;pwsh&quot;</span>,</span><br><span class="line">    <span class="comment">// 注意：一定要写上 -nologo，否则开启 powershll 会有一段话输出</span></span><br><span class="line">    <span class="attr">&quot;commandline&quot;</span>: <span class="string">&quot;C:/Program Files/PowerShell/7-preview/pwsh.exe -nologo&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;source&quot;</span>: <span class="string">&quot;Windows.Terminal.PowershellCore&quot;</span>,</span><br><span class="line">    <span class="comment">// 启动菜单一定要设置为 &lt;.&gt;，否则后面重要的一步将会无效！</span></span><br><span class="line">    <span class="attr">&quot;startingDirectory&quot;</span>: <span class="string">&quot;.&quot;</span>,</span><br><span class="line">    <span class="comment">// 字体</span></span><br><span class="line">    <span class="attr">&quot;fontFace&quot;</span>: <span class="string">&quot;Fira Code&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;fontSize&quot;</span>: <span class="number">11</span>,</span><br><span class="line">    <span class="attr">&quot;historySize&quot;</span>: <span class="number">9001</span>,</span><br><span class="line">    <span class="attr">&quot;padding&quot;</span>: <span class="string">&quot;5, 5, 20, 25&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;snapOnInput&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;useAcrylic&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// 颜色</span></span><br><span class="line">    <span class="attr">&quot;colorScheme&quot;</span>: <span class="string">&quot;Homebrew&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>继续下拉配置文件，可以找到：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Add custom color schemes to this array</span></span><br><span class="line"><span class="string">&quot;schemes&quot;</span>: [],</span><br></pre></td></tr></table></figure>

<p>配色方案就是放到这里的。我们可以在上面给的网站上面找到一个喜欢的主题，然后点击下面的 <code>Get theme</code> 按钮，配色的方案就会复制到我们的粘贴板。<br>接下来就可以在 <code>schemes</code> 数组中添加颜色配置：</p>
<p><code>Afterglow</code>配色：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Add custom color schemes to this array</span></span><br><span class="line"><span class="string">&quot;schemes&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Afterglow&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;black&quot;</span>: <span class="string">&quot;#151515&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;red&quot;</span>: <span class="string">&quot;#ac4142&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;green&quot;</span>: <span class="string">&quot;#7e8e50&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;yellow&quot;</span>: <span class="string">&quot;#e5b567&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;blue&quot;</span>: <span class="string">&quot;#6c99bb&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;purple&quot;</span>: <span class="string">&quot;#9f4e85&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;cyan&quot;</span>: <span class="string">&quot;#7dd6cf&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;white&quot;</span>: <span class="string">&quot;#d0d0d0&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;brightBlack&quot;</span>: <span class="string">&quot;#505050&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;brightRed&quot;</span>: <span class="string">&quot;#ac4142&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;brightGreen&quot;</span>: <span class="string">&quot;#7e8e50&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;brightYellow&quot;</span>: <span class="string">&quot;#e5b567&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;brightBlue&quot;</span>: <span class="string">&quot;#6c99bb&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;brightPurple&quot;</span>: <span class="string">&quot;#9f4e85&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;brightCyan&quot;</span>: <span class="string">&quot;#7dd6cf&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;brightWhite&quot;</span>: <span class="string">&quot;#f5f5f5&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;background&quot;</span>: <span class="string">&quot;#212121&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;foreground&quot;</span>: <span class="string">&quot;#d0d0d0&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<p><code>Homebrew</code> 配色:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Homebrew&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;black&quot;</span>: <span class="string">&quot;#000000&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;red&quot;</span>: <span class="string">&quot;#FC5275&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;green&quot;</span>: <span class="string">&quot;#00a600&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;yellow&quot;</span>: <span class="string">&quot;#999900&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;blue&quot;</span>: <span class="string">&quot;#6666e9&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;purple&quot;</span>: <span class="string">&quot;#b200b2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;cyan&quot;</span>: <span class="string">&quot;#00a6b2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;white&quot;</span>: <span class="string">&quot;#bfbfbf&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightBlack&quot;</span>: <span class="string">&quot;#666666&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightRed&quot;</span>: <span class="string">&quot;#e50000&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightGreen&quot;</span>: <span class="string">&quot;#00d900&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightYellow&quot;</span>: <span class="string">&quot;#e5e500&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightBlue&quot;</span>: <span class="string">&quot;#0000ff&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightPurple&quot;</span>: <span class="string">&quot;#e500e5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightCyan&quot;</span>: <span class="string">&quot;#00e5e5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightWhite&quot;</span>: <span class="string">&quot;#e5e5e5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;background&quot;</span>: <span class="string">&quot;#283033&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;foreground&quot;</span>: <span class="string">&quot;#00ff00&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>多个配色方案，需要在 <code>&#123;&#125;</code> 之间用 <code>,</code>隔开。</p>
<h2 id="6-添加-Powershell-启动参数"><a href="#6-添加-Powershell-启动参数" class="headerlink" title="6. 添加 Powershell 启动参数"></a>6. 添加 Powershell 启动参数</h2><p>在Powershell中输入如下命令来创建 Microsoft.PowerShell_profile.ps1：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">notepad.exe <span class="variable">$Profile</span></span><br></pre></td></tr></table></figure>

<p>紧接着在弹出的页面中输入下面这一长串代码，保存并关闭。这个 Profile 配置文件与 .zshrc / .bashrc 文件一样，都是控制启动前参数的。</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;#</span></span><br><span class="line"><span class="comment"> * FileName: Microsoft.PowerShell_profile.ps1</span></span><br><span class="line"><span class="comment"> * Author: 刘 鹏</span></span><br><span class="line"><span class="comment"> * Email: littleNewton6@outlook.com</span></span><br><span class="line"><span class="comment"> * Date: 2020, May. 1</span></span><br><span class="line"><span class="comment"> * Copyright: No copyright. You can use this code for anything with no warranty.</span></span><br><span class="line"><span class="comment">#&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#------------------------------- Import Modules BEGIN -------------------------------</span></span><br><span class="line"><span class="comment"># 引入 posh-git</span></span><br><span class="line"><span class="built_in">Import-Module</span> posh<span class="literal">-git</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 引入 oh-my-posh</span></span><br><span class="line"><span class="built_in">Import-Module</span> <span class="built_in">oh</span><span class="literal">-my</span><span class="literal">-posh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 PowerShell 主题</span></span><br><span class="line"><span class="built_in">Set-Theme</span> Paradox</span><br><span class="line"><span class="comment">#------------------------------- Import Modules END   -------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#-------------------------------  Set Hot-keys BEGIN  -------------------------------</span></span><br><span class="line"><span class="comment"># 设置 Tab 键补全</span></span><br><span class="line"><span class="comment"># Set-PSReadlineKeyHandler -Key Tab -Function Complete</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 Ctrl+d 为菜单补全和 Intellisense</span></span><br><span class="line"><span class="built_in">Set-PSReadLineKeyHandler</span> <span class="literal">-Key</span> <span class="string">&quot;Tab&quot;</span> <span class="literal">-Function</span> MenuComplete</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 Ctrl+d 为退出 PowerShell</span></span><br><span class="line"><span class="built_in">Set-PSReadlineKeyHandler</span> <span class="literal">-Key</span> <span class="string">&quot;Ctrl+d&quot;</span> <span class="literal">-Function</span> ViExit</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 Ctrl+z 为撤销</span></span><br><span class="line"><span class="built_in">Set-PSReadLineKeyHandler</span> <span class="literal">-Key</span> <span class="string">&quot;Ctrl+z&quot;</span> <span class="literal">-Function</span> Undo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置向上键为后向搜索历史记录</span></span><br><span class="line"><span class="built_in">Set-PSReadLineKeyHandler</span> <span class="literal">-Key</span> UpArrow <span class="literal">-Function</span> HistorySearchBackward</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置向下键为前向搜索历史纪录</span></span><br><span class="line"><span class="built_in">Set-PSReadLineKeyHandler</span> <span class="literal">-Key</span> DownArrow <span class="literal">-Function</span> HistorySearchForward</span><br><span class="line"><span class="comment">#-------------------------------  Set Hot-keys END    -------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#-------------------------------    Functions BEGIN   -------------------------------</span></span><br><span class="line"><span class="comment"># Python 直接执行</span></span><br><span class="line"><span class="variable">$env:PATHEXT</span> += <span class="string">&quot;;.py&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新 pip 的方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Update-Packages</span></span> &#123;</span><br><span class="line">    <span class="comment"># update pip</span></span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Step 1: 更新 pip&quot;</span> <span class="literal">-ForegroundColor</span> Magenta <span class="literal">-BackgroundColor</span> Cyan</span><br><span class="line">    <span class="variable">$a</span> = pip list -<span class="literal">-outdated</span></span><br><span class="line">    <span class="variable">$num_package</span> = <span class="variable">$a</span>.Length - <span class="number">2</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> <span class="operator">-lt</span> <span class="variable">$num_package</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">        <span class="variable">$tmp</span> = (<span class="variable">$a</span>[<span class="number">2</span> + <span class="variable">$i</span>].Split(<span class="string">&quot; &quot;</span>))[<span class="number">0</span>]</span><br><span class="line">        pip install <span class="literal">-U</span> <span class="variable">$tmp</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># update TeX Live</span></span><br><span class="line">    <span class="variable">$CurrentYear</span> = <span class="built_in">Get-Date</span> <span class="literal">-Format</span> yyyy</span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Step 2: 更新 TeX Live&quot;</span> <span class="variable">$CurrentYear</span> <span class="literal">-ForegroundColor</span> Magenta <span class="literal">-BackgroundColor</span> Cyan</span><br><span class="line">    tlmgr update -<span class="literal">-self</span></span><br><span class="line">    tlmgr update -<span class="literal">-all</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#-------------------------------    Functions END     -------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#-------------------------------   Set Alias Begin    -------------------------------</span></span><br><span class="line"><span class="comment"># 1. 编译函数 make</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MakeThings</span></span> &#123;</span><br><span class="line">    nmake.exe <span class="variable">$args</span> <span class="literal">-nologo</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Set-Alias</span> <span class="literal">-Name</span> make <span class="literal">-Value</span> MakeThings</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 更新系统 os-update</span></span><br><span class="line"><span class="built_in">Set-Alias</span> <span class="literal">-Name</span> os<span class="literal">-update</span> <span class="literal">-Value</span> <span class="built_in">Update-Packages</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 查看目录 ls &amp; ll</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ListDirectory</span></span> &#123;</span><br><span class="line">    (<span class="built_in">Get-ChildItem</span>).Name</span><br><span class="line">    <span class="built_in">Write-Host</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Set-Alias</span> <span class="literal">-Name</span> <span class="built_in">ls</span> <span class="literal">-Value</span> ListDirectory</span><br><span class="line"><span class="built_in">Set-Alias</span> <span class="literal">-Name</span> ll <span class="literal">-Value</span> <span class="built_in">Get-ChildItem</span></span><br><span class="line"><span class="comment">#-------------------------------    Set Alias END     -------------------------------</span></span><br></pre></td></tr></table></figure>



<h2 id="7-添加右键菜单"><a href="#7-添加右键菜单" class="headerlink" title="7. 添加右键菜单"></a>7. 添加右键菜单</h2><p>Github 上面已经有 powershell 脚本了，可以用管理员身份运行该脚本 + 某些参数以实现配置右键菜单。</p>
<p><a href="https://github.com/lextm/windowsterminal-shell/">原版 Github 仓库</a></p>
<p><a href="https://github.com/LittleNewton/Open_Windows_Terminal_Here">另一个改版脚本仓库</a></p>
<p>下载第2个，解压，管理员模式打开powershell 7，进入解压出来的文件夹的src文件夹下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.\install.ps1 mini</span><br></pre></td></tr></table></figure>



<p><img src="https://pic2.zhimg.com/80/v2-718823c3fb47a87b14905c9fa2e3d35d_720w.jpg" alt="右键菜单"></p>
<p><strong>目前发现问题</strong>：该脚本会读取 Windows Terminal 的 profile，然后把其中的非隐藏项目添加到右键菜单（默认视图），这之后如果你修改了 profile，那么需要用 <code>uninstall.ps1</code> 脚本先清除右键菜单，然后重新 install 一遍。</p>
<h2 id="8-配置后Terminal界面展示"><a href="#8-配置后Terminal界面展示" class="headerlink" title="8. 配置后Terminal界面展示"></a>8. 配置后Terminal界面展示</h2><p>Github 上面已经有 powershell 脚本了，可以用管理员身份运行该脚本 + 某些参数以实现配置右键菜单。</p>
<p><img src="https://pic2.zhimg.com/80/v2-59db8c16ee82335a0f6229b1f01f5481_720w.jpg" alt="图1：常规展示"></p>
<p>​                                                                                                               </p>
<p><img src="https://pic1.zhimg.com/80/v2-f25122805f8f8ab76ffc979238fc2444_720w.jpg" alt="图2：在 git 目录下的效果"></p>
<p>​                                                                                               </p>
]]></content>
  </entry>
</search>
